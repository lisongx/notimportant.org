<!doctype html>
<html class="no-js">
    <head>
        <meta charset="utf-8">
        <title>西安地铁客运量</title>
        <meta name="author" content="Sean Lee">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <!-- Place favicon.ico and apple-touch-icon.png in the root directory -->

        <!-- build:css styles/vendor.css -->
        <!-- bower:css -->
        <!-- endbower -->
        <!-- endbuild -->
        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/foundation/5.3.3/css/normalize.min.css">
        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/foundation/5.3.3/css/foundation.min.css">

        <style type="text/css" media="screen">
          #chart {
            height: 480px;
          }

          .tick text {
            font-size: 0.8em;
          }

          .avatar {
            height: 50px;
            width: 50px;
            border-radius: 50%;
            box-shadow: 0 0 0 2px white,0 0 0 3px #000;
            margin: 10px;
          }
        </style>
        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/c3/0.1.29/c3.css">
        <script src="//cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.2/modernizr.min.js"></script>
    </head>
    <body>
      <div class="row">
        <div class="small-10 small-offset-1 columns">
          <h1>西安地铁客运量 <small>2013 09 - 2014 09</small></h1>
        </div>
      </div>

      <div class="row">
        <div class="small-12 columns">
          <div id="chart">
          </div>
        </div>
      </div>

      <div class="row">
        <div class="small-12 text-center columns">
          <p>made with ♥ by Sean Lee<a href="http://notimportant.org/">
            <img class="avatar" src="http://i.imgur.com/BGvEb9N.jpg" alt="Sean"></a>
          </p>
        </div>
      </div>

        <script src="//cdnjs.cloudflare.com/ajax/libs/d3/3.4.11/d3.min.js"></script>
        <script src="//cdnjs.cloudflare.com/ajax/libs/c3/0.1.29/c3.min.js"></script>
        <script src="//cdnjs.cloudflare.com/ajax/libs/lodash.js/2.4.1/lodash.compat.min.js"></script>
        <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>

        <script type="text/javascript">
        $(document).ready(function(){


          d3.json("data.json", function(error, data) {
            var capacity = _.pluck(data, 'all_capacity');
            var date = _.pluck(data, 'info_date');

            var chart = c3.generate({
                data: {
                    x: 'date',
                    columns:[
                      ['date'].concat(date),
                      ['capacity'].concat(capacity)
                    ]
                },
                axis: {
                    x: {
                        type: 'timeseries',
                        tick: {
                          count: 20,
                          format: '%Y-%m-%d',
                        }
                    }
                }
            });

          });
        })
        </script>
</body>
</html>
